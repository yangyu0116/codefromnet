
function getJSONP(url) {
    var oldScript = document.getElementById(url);
    if (oldScript) {
        oldScript.parentNode.removeChild(oldScript);
    }
    var script = document.createElement("script");
    script.setAttribute("type", "text/javascript");
    script.setAttribute("src", url);
    script.setAttribute("id", url);
    document.body.appendChild(script);
}


p1.html：
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" >
<head><title>
    无标题页
</title>
    <script type="text/javascript">
    function getJSONP(url) {
        var oldScript = document.getElementById(url);
        if (oldScript) {
            oldScript.parentNode.removeChild(oldScript);
        }
        var script = document.createElement("script");
        script.setAttribute("type", "text/javascript");
        script.setAttribute("src", url);
        script.setAttribute("id", url);
        document.body.appendChild(script);
    }    
    </script>
</head>
<body>
    <form name="form1" method="post" action="Default.aspx" id="form1">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUJNzgzNDMwNTMzZGRoxtlB+MPb+XNLHeEOa79n9F0ySw==" />
</div>

    <div>
    <input id="test" type="button" onclick="getJSONP('p2.html')" />
    </div>
    </form>
</body>
</html>



p2.html：
alert("test");
document.getElementById("test").value="joson请求";
